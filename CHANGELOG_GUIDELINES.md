## CHANGELOG 编写规范（面向用户的简洁说明）

### 1. 定位

- `CHANGELOG.md` 是给“用户 / 产品 / 设计”看的，不是记录技术细节的地方。
- 只回答三件事：
  - 新增了什么功能
  - 优化了哪些体验
  - 修复了哪些用户能感知的问题

技术实现、架构调整、接口参数等细节，请写在提交信息、PR 描述或内部技术文档中，不写在 `CHANGELOG.md`。

### 2. 写作规则

- 一条更新一句话：使用 `- ` 开头，每条 10–25 个字左右。
- 使用用户能听懂的自然语言，避免专业术语堆砌。
- 不出现：
  - 接口路径、请求参数、数据结构名（例如：`/v1/images/...`、`ImageElement`、`useXXXHook`）
  - 文件名、类名、环境变量名和脚本名（例如：`.ts` 文件、`WHATAI_API_KEY`、`test-banana.mjs`）
  - 终端命令、调试日志、验证步骤等内部操作说明

推荐尽量站在用户视角描述“结果”和“感受”，而不是实现过程。

### 3. 推荐句式

- 新功能：
  - `- 新增：右侧最近更新面板，展示最近 2 个版本改动`
  - `- 新增：支持将多图层合并为一张图片并可撤销`
- 体验优化：
  - `- 优化：设置界面布局，左侧更紧凑，右侧信息更清晰`
  - `- 优化：生成图片的尺寸与比例，让结果更贴近原图`
- 问题修复：
  - `- 修复：拖拽图片到画布可能直接在浏览器打开的问题`
  - `- 修复：长时间使用后会话保存失败的问题`

可以优先使用“新增 / 优化 / 修复”作为开头，提高可读性和一致性。

### 4. 版本块结构

每个版本建议使用统一结构：

```markdown
## v1.2.7 (2025-12-21)

- 新增：……
- 优化：……
- 修复：……
```

- 版本号一行，下面 2–5 条更新即可。
- 日期可选，但建议保留，方便在 UI 中按时间阅读。
- 不在 `CHANGELOG.md` 中写“验证说明”“终端命令”“调试步骤”等内容。

### 5. 技术细节放在哪

以下内容不要写进 `CHANGELOG.md`：

- 具体接口路径、请求体结构、响应字段
- 组件 / Hook / 类的内部命名
- 环境变量名、脚本名、CI 配置
- 详细验证步骤和调试日志

推荐分发方式：

- 提交信息（commit message）：记录具体改动和技术细节。
- PR 描述：详细说明设计思路、参数变化和迁移风险。
- 内部文档（如 `docs/` 下）：记录架构演进、接口协议、错误排查手册等。

`CHANGELOG.md` 只保留给用户看的“简要公告式说明”。

### 6. 与“最近更新”面板的约定

- 设置界面右侧的“最近更新”面板，会自动读取 `CHANGELOG.md` 顶部最近的版本信息（当前配置为最近 2 个版本）。
- 面板中展示的，就是 `CHANGELOG.md` 里每条的简短描述。

约定：

- 只要有对用户可见的功能或体验变更，就必须在 `CHANGELOG.md` 顶部新增一个版本块。
- 写作时遵守本规范，保证设置界面的“最近更新”同时保持：
  - 用词简单
  - 信息清晰
  - 没有技术细节或内部术语

